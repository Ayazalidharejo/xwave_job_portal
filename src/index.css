@tailwind base;
@tailwind components;
@tailwind utilities;

/* ========== MODERN THEME VARIABLES ========== */
:root {
  /* Primary Colors */
  --theme-primary: #6366f1;
  --theme-primary-dark: #4f46e5;
  --theme-primary-light: #818cf8;
  --theme-primary-glow: rgba(99, 102, 241, 0.35);
  --theme-primary-gradient: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  
  /* Accent Colors */
  --theme-accent: #a855f7;
  --theme-accent-dark: #9333ea;
  --theme-accent-light: #c084fc;
  --theme-accent-glow: rgba(168, 85, 247, 0.35);
  
  /* Sidebar Theme */
  --theme-sidebar-bg: linear-gradient(180deg, #1e1b4b 0%, #312e81 50%, #3730a3 100%);
  --theme-sidebar-hover: rgba(255, 255, 255, 0.08);
  --theme-sidebar-active: rgba(99, 102, 241, 0.4);
  
  /* Card Theme */
  --theme-card-bg: #ffffff;
  --theme-card-border: rgba(99, 102, 241, 0.15);
  --theme-card-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.08), 0 2px 4px -2px rgb(0 0 0 / 0.06);
  --theme-card-shadow-hover: 0 20px 25px -5px rgb(99 102, 241 / 0.12), 0 8px 10px -6px rgb(99 102, 241 / 0.08);
  
  /* Background Gradients */
  --theme-bg-gradient: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 30%, #f5f3ff 70%, #faf5ff 100%);
  --theme-bg-gradient-dark: linear-gradient(135deg, #0f172a 0%, #1e1b4b 30%, #312e81 70%, #3730a3 100%);
  
  /* Glass Effects */
  --theme-glass-bg: rgba(255, 255, 255, 0.95);
  --theme-glass-border: rgba(255, 255, 255, 0.8);
  --theme-glass-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.15);
}

/* Dark Mode Variables */
.dark {
  --theme-card-bg: #1f2937;
  --theme-card-border: rgba(99, 102, 241, 0.25);
  --theme-bg-gradient: var(--theme-bg-gradient-dark);
  --theme-glass-bg: rgba(31, 41, 55, 0.95);
  --theme-glass-border: rgba(31, 41, 55, 0.8);
}

/* ========== BASE ========== */
@layer base {
  html {
    @apply antialiased;
    -webkit-tap-highlight-color: transparent;
    -webkit-text-size-adjust: 100%;
  }
  body {
    @apply text-zinc-900 min-h-dvh overflow-x-hidden;
    font-feature-settings: "rlig" 1, "calt" 1;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 30%, #f5f3ff 70%, #faf5ff 100%);
    background-attachment: fixed;
  }
  #root {
    @apply min-h-full overflow-x-hidden;
  }
  *:focus-visible {
    @apply outline-none ring-2 ring-offset-2 ring-offset-white;
    --tw-ring-color: var(--theme-primary);
  }
  a {
    color: var(--theme-primary);
    @apply hover:opacity-90 transition-opacity duration-200;
  }
}

/* ========== FIELD ANIMATIONS ========== */
@keyframes field-glow {
  0% { box-shadow: 0 0 0 0 var(--theme-primary-glow); }
  70% { box-shadow: 0 0 0 8px transparent; }
  100% { box-shadow: 0 0 0 0 transparent; }
}

@keyframes float-label {
  from { transform: translateY(0); opacity: 0.7; }
  to { transform: translateY(-4px); opacity: 1; }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* ========== FORM INPUTS WITH ANIMATIONS ========== */
@layer components {
  .input-saas {
    @apply w-full rounded-xl border bg-white px-3 py-[0.625rem] text-sm text-zinc-900 placeholder-zinc-400;
    border-color: #e4e4e7;
    transition: border-color 0.25s ease, box-shadow 0.25s ease, transform 0.2s ease;
  }
  .input-saas:hover {
    border-color: #a1a1aa;
  }
  .input-saas:focus {
    border-color: var(--theme-primary);
    box-shadow: 0 0 0 3px var(--theme-primary-glow);
    transform: translateY(-1px);
    animation: field-glow 0.5s ease;
  }
  .input-saas-error {
    @apply border-red-500 focus:border-red-500;
    box-shadow: 0 0 0 2px rgba(239, 68, 68, 0.2);
  }
  .input-saas-error:focus {
    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.25);
  }

  .btn-primary {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-[0.625rem] text-sm font-semibold text-white focus:outline-none focus:ring-2 focus:ring-offset-2;
    background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-primary-dark) 100%);
    transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
  }
  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 20px -5px var(--theme-primary-glow);
  }
  .btn-primary:active {
    transform: translateY(0);
  }
  .btn-primary:focus {
    --tw-ring-color: var(--theme-primary);
  }
  .btn-secondary {
    @apply inline-flex items-center justify-center rounded-xl border border-zinc-300 bg-white px-4 py-[0.625rem] text-sm font-medium text-zinc-700 focus:outline-none focus:ring-2 focus:ring-offset-2;
    transition: all 0.2s ease;
  }
  .btn-secondary:hover {
    @apply bg-zinc-50 border-zinc-400;
    transform: translateY(-1px);
  }
  .btn-secondary:focus {
    --tw-ring-color: var(--theme-primary);
  }
  .btn-tertiary {
    @apply inline-flex items-center justify-center rounded-xl px-4 py-[0.625rem] text-sm font-medium text-zinc-600 focus:outline-none focus:ring-2 focus:ring-offset-2;
    transition: all 0.2s ease;
  }
  .btn-tertiary:hover {
    @apply bg-zinc-100 text-zinc-900;
  }
  .btn-tertiary:focus {
    --tw-ring-color: var(--theme-primary);
  }
}

/* ========== ADVANCED CARD ========== */
.card-advanced {
  background: var(--theme-card-bg);
  border: 1px solid var(--theme-card-border);
  border-radius: 1rem;
  box-shadow: var(--theme-card-shadow);
  transition: transform 0.25s ease, box-shadow 0.25s ease, border-color 0.25s ease;
}

.card-advanced:hover {
  transform: translateY(-4px);
  box-shadow: var(--theme-card-shadow-hover);
  border-color: rgba(99, 102, 241, 0.3);
}

/* ========== AUTH CARD ========== */
.auth-card {
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(12px);
  border-radius: 1.5rem;
  border: 1px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.15), 0 0 0 1px rgba(0, 0, 0, 0.05);
  transition: box-shadow 0.3s ease, transform 0.3s ease;
}

.auth-card:hover {
  box-shadow: 0 25px 50px -12px rgba(99, 102, 241, 0.2), 0 0 0 1px rgba(0, 0, 0, 0.05);
}

/* ========== AUTH 3D CARD ========== */
.auth-page-3d {
  perspective: 1200px;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
}
.auth-card-3d {
  transform-style: preserve-3d;
  transform: rotateX(0deg) rotateY(0deg);
  transition: transform 0.4s cubic-bezier(0.23, 1, 0.32, 1), box-shadow 0.4s ease;
  will-change: transform;
}
.auth-card-3d:hover {
  transform: rotateX(2deg) rotateY(-2deg);
  box-shadow: 0 40px 80px -20px rgba(99, 102, 241, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.5);
}
.auth-card-3d-inner {
  backface-visibility: hidden;
  border-radius: 1.5rem;
  overflow: hidden;
  background: rgba(255, 255, 255, 0.97);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.9);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.08);
}
.auth-bg-shape {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  opacity: 0.4;
  pointer-events: none;
}
.auth-bg-shape-1 { width: 320px; height: 320px; background: linear-gradient(135deg, #818cf8, #6366f1); top: -10%; right: -5%; }
.auth-bg-shape-2 { width: 280px; height: 280px; background: linear-gradient(135deg, #a78bfa, #8b5cf6); bottom: -5%; left: -8%; }
.auth-bg-shape-3 { width: 200px; height: 200px; background: linear-gradient(135deg, #c4b5fd, #a78bfa); top: 50%; left: 20%; opacity: 0.25; }

/* ========== AUTH MOTION: STAGGERED ENTRANCE ========== */
@keyframes auth-enter {
  from {
    opacity: 0;
    transform: translateY(20px) translateZ(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}
.auth-enter { animation: auth-enter 0.7s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
.auth-enter-1 { animation-delay: 0.05s; opacity: 0; }
.auth-enter-2 { animation-delay: 0.12s; opacity: 0; }
.auth-enter-3 { animation-delay: 0.19s; opacity: 0; }
.auth-enter-4 { animation-delay: 0.26s; opacity: 0; }
.auth-enter-5 { animation-delay: 0.33s; opacity: 0; }
.auth-enter-6 { animation-delay: 0.4s; opacity: 0; }
.auth-enter-7 { animation-delay: 0.47s; opacity: 0; }
.auth-enter-8 { animation-delay: 0.54s; opacity: 0; }
.auth-enter-9 { animation-delay: 0.61s; opacity: 0; }
.auth-enter-10 { animation-delay: 0.68s; opacity: 0; }

/* ========== AUTH FLOATING ORBS (scroll / ambient motion) ========== */
@keyframes auth-float-1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(8px, -12px) scale(1.03); }
  66% { transform: translate(-6px, 6px) scale(0.98); }
}
@keyframes auth-float-2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  50% { transform: translate(-10px, 8px) scale(1.02); }
}
@keyframes auth-float-3 {
  0%, 100% { transform: translate(0, 0); }
  50% { transform: translate(5px, -5px); }
}
.auth-float-1 { animation: auth-float-1 18s ease-in-out infinite; }
.auth-float-2 { animation: auth-float-2 22s ease-in-out infinite; }
.auth-float-3 { animation: auth-float-3 14s ease-in-out infinite; }

/* ========== AUTH CARD SHINE (subtle 3D highlight on tilt) ========== */
@keyframes auth-shine {
  0% { opacity: 0; transform: translateX(-100%) rotate(12deg); }
  60% { opacity: 0.08; }
  100% { opacity: 0; transform: translateX(100%) rotate(12deg); }
}
.auth-shine {
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: linear-gradient(105deg, transparent 38%, rgba(255,255,255,0.5) 48%, rgba(255,255,255,0.7) 52%, transparent 62%);
  pointer-events: none;
  transform-origin: left;
  opacity: 0;
  animation: auth-shine 1.8s ease 0.4s forwards;
}

/* ========== AUTH LINK HOVER (premium underline) ========== */
.auth-link {
  position: relative;
  transition: color 0.2s ease;
}
.auth-link::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -2px;
  width: 100%;
  height: 2px;
  background: currentColor;
  transform: scaleX(0);
  transform-origin: right;
  transition: transform 0.3s cubic-bezier(0.22, 1, 0.36, 1);
}
.auth-link:hover::after { transform: scaleX(1); transform-origin: left; }

/* ========== RESUME TEMPLATE STYLES ========== */
.resume-template {
  @apply bg-white shadow-2xl rounded-lg overflow-hidden;
  font-family: 'Inter', sans-serif;
  line-height: 1.6;
  max-width: 21cm;
  margin: 0 auto;
}

.resume-header {
  background: var(--theme-primary-gradient);
  @apply p-8 text-white relative overflow-hidden;
}

.resume-header::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='4'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
  opacity: 0.3;
}

.resume-body {
  @apply p-8;
}

.resume-section {
  @apply mb-6;
}

.resume-section-title {
  @apply text-xl font-bold text-neutral-900 mb-4 pb-2 border-b-2;
  border-color: var(--theme-primary);
  position: relative;
}

.resume-section-title::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 60px;
  height: 2px;
  background: var(--theme-primary);
}

.resume-item {
  @apply mb-4 relative pl-6;
}

.resume-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 8px;
  width: 8px;
  height: 8px;
  background: var(--theme-primary);
  border-radius: 50%;
}

.resume-item-title {
  @apply font-semibold text-neutral-900 text-lg;
}

.resume-item-subtitle {
  @apply text-neutral-600 text-sm font-medium;
}

.resume-item-date {
  @apply text-neutral-500 text-sm;
  float: right;
}

.resume-item-description {
  @apply text-neutral-700 text-sm mt-2 leading-relaxed;
}

.resume-skills {
  @apply flex flex-wrap gap-2;
}

.resume-skill {
  @apply px-4 py-2 bg-blue-50 text-blue-700 rounded-full text-sm font-medium;
  border: 1px solid var(--theme-primary);
  transition: all 0.3s ease;
}

.resume-skill:hover {
  background: var(--theme-primary);
  color: white;
  transform: translateY(-2px);
}

.resume-contact {
  @apply flex flex-wrap gap-4 text-sm;
}

.resume-contact-item {
  @apply flex items-center gap-2 text-neutral-600;
}

.resume-contact-item:hover {
  color: var(--theme-primary);
}

/* ========== DASHBOARD PAGE BACKGROUND ========== */
.bg-dashboard {
  background: var(--theme-bg-gradient);
  background-attachment: fixed;
}

/* ========== TOOLTIP ========== */
[data-tooltip] {
  @apply relative;
}
[data-tooltip]:hover::after {
  content: attr(data-tooltip);
  @apply absolute left-1/2 -translate-x-1/2 bottom-full mb-1 px-2 py-1 text-xs font-medium text-white rounded whitespace-nowrap z-50;
  background: #1e1b4b;
  animation: float-label 0.2s ease;
}

/* ========== SAFE AREA ========== */
@supports (padding: env(safe-area-inset-bottom)) {
  body {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
}
